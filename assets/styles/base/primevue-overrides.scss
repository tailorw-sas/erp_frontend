/* ===================================================================
   PRIMEVUE GLOBAL OVERRIDES
   =================================================================== */

// ===============================
// BUTTON OVERRIDES
// ===============================

.p-button {
  font-family: inherit;
  font-weight: $font-weight-semibold;
  border-radius: $border-radius;
  transition: $transition;

  &:focus {
    @include focus-ring;
  }

  &.p-button-sm {
    height: $field-height-compact;
    font-size: $font-size-small;
  }

  &.p-button-lg {
    height: $field-height-large;
    font-size: $font-size-lg;
  }
}

// ===============================
// DIALOG OVERRIDES
// ===============================

.p-dialog {
  border-radius: $border-radius-xl;
  box-shadow: $shadow-xl;

  .p-dialog-header {
    background: $gray-50;
    border-bottom: 1px solid $gray-200;
    border-radius: $border-radius-xl $border-radius-xl 0 0;
  }

  .p-dialog-content {
    padding: $spacing-xl;
  }

  .p-dialog-footer {
    background: $gray-50;
    border-top: 1px solid $gray-200;
    border-radius: 0 0 $border-radius-xl $border-radius-xl;
    padding: $spacing-lg $spacing-xl;
  }
}

// ===============================
// TOAST OVERRIDES
// ===============================

.p-toast {
  .p-toast-message {
    border-radius: $border-radius-lg;
    box-shadow: $shadow-lg;
    margin-bottom: $spacing-md;

    &.p-toast-message-success {
      background: $success-light;
      border: 1px solid $success-color;
      color: $success-color;
    }

    &.p-toast-message-error {
      background: $error-light;
      border: 1px solid $error-color;
      color: $error-color;
    }

    &.p-toast-message-warn {
      background: $warning-light;
      border: 1px solid $warning-color;
      color: $warning-color;
    }

    &.p-toast-message-info {
      background: $primary-light;
      border: 1px solid $primary-color;
      color: $primary-color;
    }
  }
}

// ===============================
// DATATABLE OVERRIDES
// ===============================

.p-datatable {
  border-radius: $border-radius-lg;
  overflow: hidden;

  .p-datatable-header {
    background: $gray-50;
    border-bottom: 1px solid $gray-200;
    padding: $spacing-lg;
  }

  .p-datatable-thead > tr > th {
    background: $gray-100;
    color: $gray-700;
    font-weight: $font-weight-semibold;
    font-size: $font-size-small;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    padding: $spacing-md $spacing-lg;
  }

  .p-datatable-tbody > tr > td {
    padding: $spacing-md $spacing-lg;
    border-bottom: 1px solid $gray-200;
  }

  .p-datatable-tbody > tr:hover {
    background: $gray-50;
  }
}

// ===============================
// DROPDOWN PANEL OVERRIDES
// ===============================

.p-dropdown-panel {
  border-radius: $border-radius-md;
  box-shadow: $shadow-lg;
  border: 1px solid $gray-200;
  margin-top: $spacing-xs;

  .p-dropdown-items {
    .p-dropdown-item {
      padding: $spacing-sm $spacing-md;
      transition: $transition-fast;

      &:hover {
        background: $gray-50;
      }

      &.p-highlight {
        background: $primary-light;
        color: $primary-color;
      }
    }
  }

  .p-dropdown-filter-container {
    padding: $spacing-sm;
    border-bottom: 1px solid $gray-200;

    .p-dropdown-filter {
      @include field-base;
      width: 100%;
      height: $field-height-compact;
    }
  }
}

// ===============================
// MULTISELECT PANEL OVERRIDES
// ===============================

.p-multiselect-panel {
  border-radius: $border-radius-md;
  box-shadow: $shadow-lg;
  border: 1px solid $gray-200;
  margin-top: $spacing-xs;

  .p-multiselect-header {
    padding: $spacing-sm $spacing-md;
    border-bottom: 1px solid $gray-200;
    background: $gray-50;

    .p-multiselect-filter-container {
      .p-multiselect-filter {
        @include field-base;
        height: $field-height-compact;
      }
    }
  }

  .p-multiselect-items {
    .p-multiselect-item {
      padding: $spacing-sm $spacing-md;
      transition: $transition-fast;

      &:hover {
        background: $gray-50;
      }

      &.p-highlight {
        background: $primary-light;
        color: $primary-color;
      }
    }
  }
}

// ===============================
// CALENDAR OVERRIDES
// ===============================

.p-datepicker {
  border-radius: $border-radius-md;
  box-shadow: $shadow-lg;
  border: 1px solid $gray-200;

  .p-datepicker-header {
    background: $gray-50;
    border-bottom: 1px solid $gray-200;
    padding: $spacing-md;
  }

  .p-datepicker-calendar {
    td {
      padding: $spacing-xs;

      &.p-datepicker-today > span {
        background: $primary-light;
        color: $primary-color;
        border-radius: $border-radius-sm;
      }

      &:not(.p-datepicker-other-month) > span:hover {
        background: $gray-100;
        border-radius: $border-radius-sm;
      }

      &.p-highlight > span {
        background: $primary-color;
        color: white;
        border-radius: $border-radius-sm;
      }
    }
  }
}

// ===============================
// PROGRESS BAR OVERRIDES
// ===============================

.p-progressbar {
  border-radius: $border-radius;
  background: $gray-200;
  overflow: hidden;

  .p-progressbar-value {
    background: linear-gradient(90deg, $primary-color 0%, #4338ca 100%);
    transition: width 0.6s ease;
  }

  &.p-progressbar-determinate .p-progressbar-value {
    border-radius: $border-radius;
  }
}

// ===============================
// SPINNER OVERRIDES
// ===============================

.p-progress-spinner {
  .p-progress-spinner-circle {
    stroke: $primary-color;
  }
}

// ===============================
// TAG OVERRIDES
// ===============================

.p-tag {
  border-radius: $border-radius-sm;
  font-size: $font-size-tiny;
  font-weight: $font-weight-medium;
  padding: 0.25rem $spacing-sm;

  &.p-tag-success {
    background: $success-light;
    color: $success-color;
  }

  &.p-tag-info {
    background: $primary-light;
    color: $primary-color;
  }

  &.p-tag-warning {
    background: $warning-light;
    color: $warning-color;
  }

  &.p-tag-danger {
    background: $error-light;
    color: $error-color;
  }
}

// ===============================
// BADGE OVERRIDES
// ===============================

.p-badge {
  border-radius: $border-radius-sm;
  font-size: $font-size-tiny;
  font-weight: $font-weight-medium;
  padding: 0.25rem $spacing-sm;

  &.p-badge-success {
    background: $success-color;
  }

  &.p-badge-info {
    background: $primary-color;
  }

  &.p-badge-warning {
    background: $warning-color;
  }

  &.p-badge-danger {
    background: $error-color;
  }

  &.p-badge-secondary {
    background: $gray-500;
  }
}

// ===============================
// DIVIDER OVERRIDES
// ===============================

.p-divider {
  &.p-divider-horizontal {
    margin: $spacing-lg 0;
    
    &::before {
      border-top: 1px solid $gray-200;
    }
  }

  &.p-divider-vertical {
    margin: 0 $spacing-lg;
    
    &::before {
      border-left: 1px solid $gray-200;
    }
  }
}

// ===============================
// CARD OVERRIDES
// ===============================

.p-card {
  @include card-base;

  .p-card-header {
    padding: $spacing-xl $spacing-xl $spacing-lg;
  }

  .p-card-body {
    padding: 0 $spacing-xl;
  }

  .p-card-content {
    padding: 0;
  }

  .p-card-footer {
    padding: $spacing-lg $spacing-xl $spacing-xl;
  }

  .p-card-title {
    font-size: $font-size-2xl;
    font-weight: $font-weight-semibold;
    color: $gray-900;
    margin-bottom: $spacing-sm;
  }

  .p-card-subtitle {
    font-size: $font-size-small;
    color: $gray-600;
    margin-bottom: $spacing-lg;
  }
}

// ===============================
// PANEL OVERRIDES
// ===============================

.p-panel {
  border-radius: $border-radius-lg;
  border: 1px solid $gray-200;

  .p-panel-header {
    background: $gray-50;
    border-bottom: 1px solid $gray-200;
    padding: $spacing-lg;
    border-radius: $border-radius-lg $border-radius-lg 0 0;
  }

  .p-panel-content {
    padding: $spacing-lg;
  }
}

// ===============================
// TOOLTIP OVERRIDES
// ===============================

.p-tooltip {
  .p-tooltip-text {
    background: $gray-800;
    color: white;
    border-radius: $border-radius;
    font-size: $font-size-small;
    padding: $spacing-sm $spacing-md;
    box-shadow: $shadow-md;
  }

  &.p-tooltip-top .p-tooltip-arrow {
    border-top-color: $gray-800;
  }

  &.p-tooltip-bottom .p-tooltip-arrow {
    border-bottom-color: $gray-800;
  }

  &.p-tooltip-left .p-tooltip-arrow {
    border-left-color: $gray-800;
  }

  &.p-tooltip-right .p-tooltip-arrow {
    border-right-color: $gray-800;
  }
}

// ===============================
// SKELETON OVERRIDES
// ===============================

.p-skeleton {
  background: linear-gradient(
    90deg,
    $gray-200 25%,
    $gray-100 50%,
    $gray-200 75%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: $border-radius;
}

// ===============================
// CONFIRM POPUP OVERRIDES
// ===============================

.p-confirm-popup {
  border-radius: $border-radius-lg;
  box-shadow: $shadow-xl;
  border: 1px solid $gray-200;

  .p-confirm-popup-content {
    padding: $spacing-lg;
  }

  .p-confirm-popup-footer {
    padding: $spacing-md $spacing-lg;
    background: $gray-50;
    border-top: 1px solid $gray-200;
    display: flex;
    gap: $spacing-sm;
    justify-content: flex-end;
  }
}

// ===============================
// FILE UPLOAD OVERRIDES
// ===============================

.p-fileupload {
  border-radius: $border-radius-lg;
  border: 1px solid $gray-200;

  .p-fileupload-buttonbar {
    background: $gray-50;
    border-bottom: 1px solid $gray-200;
    padding: $spacing-lg;
    border-radius: $border-radius-lg $border-radius-lg 0 0;
  }

  .p-fileupload-content {
    padding: $spacing-lg;
  }

  &.p-fileupload-advanced .p-fileupload-content {
    border: 2px dashed $gray-300;
    border-radius: $border-radius;
    transition: $transition;

    &:hover {
      border-color: $primary-color;
      background: $gray-50;
    }
  }
}

// ===============================
// INPUT NUMBER OVERRIDES
// ===============================

.p-inputnumber {
  .p-inputnumber-buttons-stacked {
    .p-inputnumber-button {
      background: $gray-50;
      border: 1px solid $gray-200;
      color: $gray-500;

      &:hover {
        background: $gray-100;
        color: $gray-600;
      }
    }

    .p-inputnumber-button-up {
      border-radius: 0 $border-radius 0 0;
      border-bottom: none;
    }

    .p-inputnumber-button-down {
      border-radius: 0 0 $border-radius 0;
    }
  }

  .p-inputnumber-buttons-horizontal {
    .p-inputnumber-button {
      background: $gray-50;
      border: 1px solid $gray-200;
      color: $gray-500;

      &:hover {
        background: $gray-100;
        color: $gray-600;
      }
    }

    .p-inputnumber-button-up {
      border-radius: 0 $border-radius $border-radius 0;
      border-left: none;
    }

    .p-inputnumber-button-down {
      border-radius: $border-radius 0 0 $border-radius;
      border-right: none;
    }
  }
}

// ===============================
// PASSWORD OVERRIDES
// ===============================

.p-password {
  .p-password-panel {
    border-radius: $border-radius-md;
    box-shadow: $shadow-lg;
    border: 1px solid $gray-200;
    padding: $spacing-md;
    margin-top: $spacing-xs;
  }

  .p-password-meter {
    border-radius: $border-radius-sm;
    overflow: hidden;
    margin-bottom: $spacing-sm;
  }
}

// ===============================
// RESPONSIVE OVERRIDES
// ===============================

@media (max-width: $breakpoint-md) {
  .p-dialog {
    width: 95vw !important;
    margin: 0 auto;
  }

  .p-dropdown-panel,
  .p-multiselect-panel {
    max-height: 60vh;
  }
}

// ===============================
// DARK MODE OVERRIDES
// ===============================

@media (prefers-color-scheme: dark) {
  .p-component {
    --surface-ground: #{$gray-900};
    --surface-section: #{$gray-800};
    --surface-card: #{$gray-800};
    --surface-overlay: #{$gray-700};
    --surface-border: #{$gray-600};
    --surface-hover: #{$gray-700};
    --text-color: #{$gray-100};
    --text-color-secondary: #{$gray-300};
    --primary-color: #{$primary-color};
    --primary-color-text: #ffffff;
  }
}